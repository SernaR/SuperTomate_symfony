{% extends 'app/appTemplates/pageTemplate.html.twig' %}

{% block page %}
	<div class="card px-4 mb-3">
		{% include 'app/partials/jumbotron.html.twig' with {'title': 'Proposer une recette' } %}

		{{ form_start(form) }}
			<div class="form-group">
				<div class="row">
					<div class="col-sm-4">{{ form_label(form.name, 'Nom de la recette') }}</div>	
					<div class="col-sm-8">{{ form_widget(form.name) }}</div>
				</div>
			</div>
			<div class="form-group">
				<div class="row">
					<div class="col-sm-4">{{ form_label(form.difficulty, 'Difficulté') }}</div>
					<div class="col-sm-8">{{ form_widget(form.difficulty) }}</div>
				</div>
			</div><hr><div class="row mb-3">
				<div class="col">
					<div class="form-group">
						{{ form_label(form.making, 'Temps de préparation (en mn)') }}
						{{ form_widget(form.making) }}	
               		</div>
				</div>
				<div class="col">
					<div class="form-group">
						{{ form_label(form.cook, 'Temps de cuisson (en mn)') }}
						{{ form_widget(form.cook) }}	
               		</div>
				</div>
				<div class="col">
					<div class="form-group">
						{{ form_label(form.wait, 'Temps de pause (en mn)') }}
						{{ form_widget(form.wait) }}	
               		</div>
				</div>
				<div class="col">
					<div class="form-group">
						{{ form_label(form.serve, 'Nombre de personnes') }}
						{{ form_widget(form.serve) }}	
               		</div>
				</div>
			</div>
         <hr>
         <div class="form-group">
				<div class="row">
					<div class="col-sm-4">{{ form_label(form.category, 'Catégories') }}</div>
					<div class="col-sm-8">{{ form_widget(form.category) }}</div>
				</div>
			</div>
         <hr>
         <div class="form-group">
				<div class="row">
					<div class="col-sm-4">{{ form_label(form.ingredients, 'Ingrédients') }}</div>
					<div class="col-sm-8">
						<ul class="js-ingredients nopadding-ul"  data-prototype="{{ form_widget(form.ingredients.vars.prototype)|e('html_attr') }}">
							{% for ingredient in form.ingredients %}
								 <li>
									<div class="row">
										<div class="col-sm-11 mb-2">{{ form_widget(ingredient.content) }}</div>
									</div>
								</li>
							{% endfor %}
						</ul>
					</div>
				</div>
			</div>
         <hr>
         <div class="form-group">
				<div class="row">
					<label class="col-sm-4">{{ form_label(form.steps, 'Etapes') }}</label>
					<div class="col-sm-8">
						<ul class="js-steps nopadding-ul"  data-prototype="{{ form_widget(form.steps.vars.prototype)|e('html_attr') }}">
							{% for step in form.steps %}
								 <li>
									<div class="row">
										<div class="col-sm-11 mb-2">{{ form_widget(step.content) }}</div>
									</div>
								</li>
							{% endfor %}
						</ul>		
					</div>
				</div>
			</div><hr><div class="form-group">
				<div class="row">
					<div class="col-sm-4">{{ form_label(form.imageFile, 'Ajouter une photo') }}</div>
					<div class="col-sm-8">{{ form_widget(form.imageFile) }}</div>
				</div>
			</div>
         <hr>
         <div class="container text-center my-5">
				{{ form_widget(form.save, { 'label': 'Ajouter  ma recette',  'attr' : {'class' : "btn btn-primary mx-1"} }) }}
				{{ form_widget(form.saveDraft, { 'label': 'Enregistrer le brouillon',  'attr' : {'class' : "btn btn-outline-secondary"} }) }}
			</div>
		{{ form_end(form) }}
	</div>
{% endblock %}
